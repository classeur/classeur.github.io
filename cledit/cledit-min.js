!function(t){function e(r,s,a){function c(t,e){k=T.parseSections(t,e),x.$allElements=Array.prototype.slice.call(r.querySelectorAll(".cledit-section *")),x.$trigger("contentChanged",t,k)}function l(t){D.saveSelectionState(!0,!0,t)}function d(t,e,n){var i=Math.min(t,e),o=Math.max(t,e),r=D.createRange(i,o),s=""+r;return s.length!==o-i||s!=n?(r.deleteContents(),r.insertNode(x.$document.createTextNode(n)),r):void 0}function f(t,e,n){n=void 0!==n&&n<N.length?n:N.length-1;var i=Math.min(L.diff_commonPrefix(N,t),n),o=Math.min(L.diff_commonSuffix(N,t),N.length-i,t.length-i),r=t.substring(i,t.length-o);return e?O.noWatch(function(){d(i,N.length-o,r),N=t,c(t)}):d(i,N.length-o,r),{start:i,end:t.length-o}}function u(t,e,n){U.setDefaultMode("single"),d(t,e,n);var i=t+n.length;D.setSelectionStartEnd(i,i),D.updateCursorCoordinates(!0)}function h(t,e){U.setDefaultMode("single");var n=N.replace(t,e);if(n!=N){var i=x.setContent(n);D.setSelectionStartEnd(i.end,i.end),D.updateCursorCoordinates(!0)}}function g(t,e){var n=D.selectionStart;if(n!==D.selectionEnd)return!1;var i=D.createRange(n-t.length,n);return""+i!=t?!1:(i.deleteContents(),i.insertNode(x.$document.createTextNode(e)),n=n-t.length+e.length,D.setSelectionStartEnd(n,n),D.updateCursorCoordinates(!0),!0)}function p(){return N}function v(){D.restoreSelection(),s.scrollTop=M}function m(t){-1===x.$markers.indexOf(t)&&x.$markers.push(t)}function S(t){var e=x.$markers.indexOf(t);-1!==e&&x.$markers.splice(e,1)}function E(t){function e(t){for(;t&&t!==r;){if(t.section)return void((t.parentNode?i:n)[t.section.id]=t.section);t=t.parentNode}}var n={},i={};t.forEach(function(t){e(t.target),Array.prototype.forEach.call(t.addedNodes,e),Array.prototype.forEach.call(t.removedNodes,e)}),n=Object.keys(n).map(function(t){return n[t]}),i=Object.keys(i).map(function(t){return i[t]});var o;O.noWatch(function(){o=T.fixContent(i,n,t)});var s=r.textContent.replace(/\r\n?/g,"\n");if(!s||s!=N){"\n"!==s.slice(-1)&&(s+="\n");var a=C(s);U.addPatches(a),U.setDefaultMode("typing"),x.$markers.forEach(function(t){a.forEach(t.adjustOffset,t)}),N=s,o||D.saveSelectionState(),c(N),U.saveState(),A()}}function C(t){var e=L.diff_main(N,t),r=[],s=0;return e.forEach(function(t){var e=t[0],a=t[1];switch(e){case o:s+=a.length;break;case n:r.push({insert:!1,offset:s,text:a});break;case i:r.push({insert:!0,offset:s,text:a}),s+=a.length}}),r}function y(t,e){D.setSelectionStartEnd(t,e),D.updateCursorCoordinates()}function w(t){return function(e){17!==e.which&&91!==e.which&&18!==e.which&&16!==e.which&&t(e)}}function b(t,e){x.$keystrokes[t]=e}var x={$contentElt:r,$scrollElt:s||r,$window:a||window,$keystrokes:{},$markers:[]};x.$document=x.$window.document,e.Utils.createEventHooks(x),x.toggleEditable=function(t){void 0===t&&(t=!r.contentEditable),r.contentEditable=t},x.toggleEditable(!0);var M,k,N=r.textContent,$=e.Utils.debounce,T=new e.Highlighter(x),O=new e.Watcher(x,E);O.startWatching();var L=new t,D=new e.SelectionMgr(x),U=new e.UndoMgr(x),A=$(function(){var t=x.$window.getSelection();D.hasFocus&&!T.isComposing&&D.selectionStart===D.selectionEnd&&t.modify&&(D.selectionStart?(t.modify("move","backward","character"),t.modify("move","forward","character")):(t.modify("move","forward","character"),t.modify("move","backward","character")))},10);return r.addEventListener("keydown",w(function(t){D.saveSelectionState(),l(),Object.keys(x.$keystrokes).some(function(e){return x.$keystrokes[e].perform(t,x)})}),!1),x.$window.addEventListener("keydown",w(function(){l()}),!1),x.$window.addEventListener("mouseup",D.saveSelectionState.bind(D,!0,!1)),r.addEventListener("contextmenu",D.saveSelectionState.bind(D,!0,!1)),r.addEventListener("compositionstart",function(){T.isComposing++},!1),r.addEventListener("compositionend",function(){setTimeout(function(){T.isComposing--},0)},!1),r.addEventListener("paste",function(t){U.setCurrentMode("single"),t.preventDefault();var e,n=t.clipboardData;n?e=n.getData("text/plain"):(n=x.$window.clipboardData,e=n&&n.getData("Text")),e&&(u(D.selectionStart,D.selectionEnd,e),l())},!1),r.addEventListener("cut",function(){U.setCurrentMode("single"),l()},!1),r.addEventListener("focus",function(){D.hasFocus=!0},!1),r.addEventListener("blur",function(){D.hasFocus=!1},!1),Object.keys(e.defaultKeystrokes).forEach(function(t){b(t,e.defaultKeystrokes[t])}),x.selectionMgr=D,x.undoMgr=U,x.highlighter=T,x.watcher=O,x.adjustCursorPosition=l,x.setContent=f,x.replace=u,x.replaceAll=h,x.replacePreviousText=g,x.getContent=p,x.focus=v,x.setSelection=y,x.addKeystroke=b,x.addMarker=m,x.removeMarker=S,x.init=function(t){t=e.Utils.extend({cursorFocusRatio:.5,language:{},sectionDelimiter:""},t||{}),x.options=t,void 0!==t.content&&(N=t.content),!t.sectionDelimiter||t.sectionDelimiter instanceof RegExp||(t.sectionDelimiter=new RegExp(t.sectionDelimiter,"gm")),U.init(),D.saveSelectionState(),c(N,!0),void 0!==t.selectionStart&&void 0!==t.selectionEnd&&x.setSelection(t.selectionStart,t.selectionEnd),void 0!==t.scrollTop&&(s.scrollTop=t.scrollTop),M=s.scrollTop},x}var n=-1,i=1,o=0;window.cledit=e}(window.diff_match_patch),function(t){function e(e){function n(t){this.id=++a,this.text=t}function i(n){var i=o(n.text);i=t.Prism.highlight(i,e.options.language),d&&(i=i.replace(/^\n/gm,"<div>\n</div>")),i=i.replace(/\n/g,g);var s=e.$document.createElement("div");s.id="cledit-section-"+n.id,s.className="cledit-section",s.innerHTML=i,n.setElement(s),r.$trigger("sectionHighlighted",n)}var o=t.Utils.escape,r=this;t.Utils.createEventHooks(this);var s=e.$contentElt,a=0;this.isComposing=0;var c,l=[],d=t.Utils.isWebkit,f=t.Utils.isGecko||t.Utils.isWebkit,u="div",h='<br><i class="hd-lf" style="display: none">\n</i>',g='<i class="lf">'+(f?h:"\n")+"</i>";this.fixContent=function(n,i,o){if(n.forEach(function(t){t.hiddenLfEltList&&Array.prototype.slice.call(t.hiddenLfEltList).forEach(function(t){t.previousSibling&&"BR"===t.previousSibling.tagName||t.parentNode.removeChild(t)}),t.brEltList&&Array.prototype.slice.call(t.brEltList).forEach(function(t){if(t.parentNode.classList.contains("lf")){if(!t.nextSibling){var n=e.$document.createElement("i");n.className="hd-lf",n.textContent="\n",n.style.display="none",t.parentNode.appendChild(n)}}else{var i=e.$document.createElement("i");i.innerHTML=h,t.parentNode.replaceChild(i,t)}}),t.divEltList&&Array.prototype.slice.call(t.divEltList).forEach(function(t){t.previousSibling&&t.previousSibling.textContent&&"\n"!==t.previousSibling.textContent.slice(-1)&&t.parentNode.insertBefore(e.$document.createTextNode("\n"),t),"\n"!==t.textContent.slice(-1)&&t.appendChild(e.$document.createTextNode("\n"))}),"\n"!==t.elt.textContent.slice(-1)&&t.elt.appendChild(e.$document.createTextNode("\n"))}),t.Utils.isMsie&&e.getContent()===s.textContent){var r,a=[];if(o.forEach(function(t){var e;1===t.removedNodes.length&&(e=t.removedNodes[0],e.section&&a.push(e.section)),1===t.addedNodes.length&&(r=t.addedNodes[0])}),r&&2===a.length){var c=l.indexOf(a[0]),d=l.indexOf(a[1]),f=l[Math.min(c,d)],u=l[Math.max(c,d)];if("\n"===f.text.slice(-1))return e.selectionMgr.saveSelectionState(),r.textContent=f.text.slice(0,-1)+u.text,e.selectionMgr.selectionStart--,e.selectionMgr.selectionEnd--,!0}}this.$trigger("domChanged",n,i,o)},this.addTrailingNode=function(){this.trailingNode=e.$document.createElement(u),s.appendChild(this.trailingNode)},n.prototype.setElement=function(t){this.elt=t,t.section=this,f&&(this.hiddenLfEltList=t.getElementsByClassName("hd-lf"),this.brEltList=t.getElementsByTagName("br")),d&&(this.divEltList=t.getElementsByTagName("div"))},this.parseSections=function(t,o){function r(t,e){var i=a.substring(f,e);d.push(new n(i))}if(this.isComposing)return l;var a=t+"\n\n",d=[],f=0;e.options.sectionDelimiter&&a.replace(e.options.sectionDelimiter,function(t,e){r(f,e),f=e}),r(f,t.length);var u=[],h=[];if(c=void 0,o)h=l,l=d,u=d;else{var g=l.length;l.some(function(t,e){var n=d[e];return e>=d.length||t.text!=n.text||t.elt.parentNode!==s||t.elt.textContent!=n.text?(g=e,!0):void 0});var p=-l.length;l.slice().reverse().some(function(t,e){var n=d[d.length-e-1];return e>=d.length||t.text!=n.text||t.elt.parentNode!==s||t.elt.textContent!=n.text?(p=-e,!0):void 0}),g-p>l.length&&(p=g-l.length);var v=l.slice(0,g);u=d.slice(g,d.length+p);var m=l.slice(l.length+p,l.length);c=m[0],h=l.slice(g,l.length+p),l=v.concat(u).concat(m)}var S=e.$document.createDocumentFragment();return u.forEach(function(t){i(t),S.appendChild(t.elt)}),e.watcher.noWatch(function(){if(o)return s.innerHTML="",s.appendChild(S),this.addTrailingNode();h.forEach(function(t){t.elt.parentNode===s&&s.removeChild(t.elt),t.elt.section=void 0}),void 0!==c?s.insertBefore(S,c.elt):s.appendChild(S);for(var t=s.firstChild;t;){var n=t.nextSibling;t.section||s.removeChild(t),t=n}this.addTrailingNode(),e.selectionMgr.restoreSelection(),e.selectionMgr.updateCursorCoordinates()}.bind(this)),l}}t.Highlighter=e}(window.cledit),function(t){function e(t){this.handler=t}e.prototype.perform=function(t,e){var n=e.getContent(),i=Math.min(e.selectionMgr.selectionStart,e.selectionMgr.selectionEnd),o=Math.max(e.selectionMgr.selectionStart,e.selectionMgr.selectionEnd),r={selectionStart:i,selectionEnd:o,before:n.slice(0,i),after:n.slice(o),selection:n.slice(i,o)};return this.handler(t,r,e)?(e.setContent(r.before+r.selection+r.after,!1,i),e.selectionMgr.setSelectionStartEnd(r.selectionStart,r.selectionEnd),!0):void 0},t.Keystroke=e;var n;t.defaultKeystrokes={undo:new e(function(t,e,n){if((t.ctrlKey||t.metaKey)&&!t.altKey){var i,o=t.charCode||t.keyCode,r=String.fromCharCode(o).toLowerCase();switch(r){case"y":i="redo";break;case"z":i=t.shiftKey?"redo":"undo"}return i?(t.preventDefault(),setTimeout(function(){n.undoMgr[i]()},10),!0):void 0}}),indent:new e(function(t,e){function n(t,e,n,i){return n=+n||0,i=i||"",t.slice(0,e)+i+t.slice(e+n)}if(9===t.which&&!t.metaKey&&!t.ctrlKey){t.preventDefault();var i=t.shiftKey,o=e.before.lastIndexOf("\n")+1;if(i)/\s/.test(e.before.charAt(o))&&(e.before=n(e.before,o,1),e.selectionStart--,e.selectionEnd--),e.selection=e.selection.replace(/^[ \t]/gm,"");else{if(!e.selection)return e.before+="	",e.selectionStart++,e.selectionEnd++,!0;e.before=n(e.before,o,0,"	"),e.selection=e.selection.replace(/\r?\n(?=[\s\S])/g,"\n	"),e.selectionStart++,e.selectionEnd++}return e.selectionEnd=e.selectionStart+e.selection.length,!0}}),newline:new e(function(t,e,i){if(13!==t.which)return void(n=!1);t.preventDefault();var o=e.before.lastIndexOf("\n")+1;if(n)return e.before=e.before.substring(0,o),e.selection="",e.selectionStart=o,e.selectionEnd=o,n=!1,!0;n=!1;var r=e.before.slice(o),s=r.match(/^\s*/)[0];return s.length&&(n=!0),i.undoMgr.setCurrentMode("single"),e.before+="\n"+s,e.selection="",e.selectionStart+=s.length+1,e.selectionEnd=e.selectionStart,!0})}}(window.cledit),function(t){function e(t){this.offset=t}e.prototype.adjustOffset=function(t){var e=t.text.length;t.insert&&this.offset>=t.offset?this.offset+=e:!t.insert&&this.offset>t.offset&&(e=Math.min(e,this.offset-t.offset),this.offset-=e)},t.Marker=e}(window.cledit),function(t){function e(t,e){this.type=t,this.content=e}var n={highlight:function(t,i,o){return e.stringify(n.tokenize(t,i),o)},tokenize:function(t,i){var o,r=[t],s=i.rest;if(s){for(o in s)i[o]=s[o];delete i.rest}t:for(o in i)if(i.hasOwnProperty(o)&&i[o]){var a=i[o],c=a.inside,l=!!a.lookbehind,d=0;a=a.pattern||a;for(var f=0;f<r.length;f++){var u=r[f];if(r.length>t.length)break t;if(!(u instanceof e)){a.lastIndex=0;var h=a.exec(u);if(h){l&&(d=h[1].length);var g=h.index-1+d;h=h[0].slice(d);var p=h.length,v=g+p,m=u.slice(0,g+1),S=u.slice(v+1),E=[f,1];m&&E.push(m);var C=new e(o,c?n.tokenize(h,c):h);E.push(C),S&&E.push(S),Array.prototype.splice.apply(r,E)}}}}return r}};e.stringify=function(t,n,i){if("string"==typeof t)return t;if("[object Array]"==Object.prototype.toString.call(t))return t.map(function(i){return e.stringify(i,n,t)}).join("");var o={type:t.type,content:e.stringify(t.content,n,i),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:i};"comment"==o.type&&(o.attributes.spellcheck="true");var r="";for(var s in o.attributes)r+=s+'="'+(o.attributes[s]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+r+">"+o.content+"</"+o.tag+">"},t.Prism=n}(window.cledit),function(t,e){function n(n){function i(t){h&&h.startContainer===t.startContainer&&h.startOffset===t.startOffset&&h.endContainer===t.endContainer&&h.endOffset===t.endOffset||(h=t,c.$trigger("selectionChanged",c.selectionStart,c.selectionEnd,t))}function o(t,e){void 0===t&&(t=c.selectionStart),0>t&&(t=0),void 0===e&&(e=this.selectionEnd),0>e&&(e=0),c.selectionStart=t,c.selectionEnd=e,g()}var r=t.Utils.debounce,s=n.$contentElt,a=n.$scrollElt;t.Utils.createEventHooks(this);var c=this,l=0,d=0;this.selectionStart=0,this.selectionEnd=0,this.cursorY=0,this.adjustTop=0,this.adjustBottom=0,this.findOffsets=function(t){function e(t,e,n){if("\n"===t.nodeValue){var o=t.parentNode;"hd-lf"===o.className&&o.previousSibling&&"BR"===o.previousSibling.tagName&&(t=o.parentNode,e=Array.prototype.indexOf.call(t.childNodes,0===e?o.previousSibling:o))}i.push({container:t,offsetInContainer:e,offset:n})}var i=[];if(!t.length)return i;for(var o,r=t.shift(),a=n.$document.createTreeWalker(s,NodeFilter.SHOW_TEXT,null,!1),c="",l=0;a.nextNode();){c=a.currentNode.nodeValue||"";for(var d=l+c.length;d>r;){if(e(a.currentNode,r-l,r),!t.length)return i;r=t.shift()}l=d,o=a.currentNode}do e(a.currentNode,c.length,r),r=t.shift();while(r);return i},this.createRange=function(t,e){t=0>t?0:t,e=0>e?0:e;var i,o,r=n.$document.createRange(),s=[];isNaN(t)||(s.push(t),i=s.length-1),isNaN(e)||(s.push(e),o=s.length-1),s=this.findOffsets(s);var a=isNaN(t)?t:s[i];r.setStart(a.container,a.offsetInContainer);var c=a;return e&&e!=t&&(c=isNaN(e)?e:s[o]),r.setEnd(c.container,c.offsetInContainer),r};var f,u=r(function(){var t=this.getCoordinates(this.selectionEnd,this.selectionEndContainer,this.selectionEndOffset);if(this.cursorY!==t.y&&(this.cursorY=t.y,this.$trigger("cursorCoordinatesChanged",t.x,t.y)),f){var e,i;if(e=i=a.clientHeight/2*n.options.cursorFocusRatio,e=this.adjustTop||e,i=this.adjustBottom||e,e&&i){var o=a.scrollTop+e,r=a.scrollTop+a.clientHeight-i;this.cursorY<o?a.scrollTop+=this.cursorY-o:this.cursorY>r&&(a.scrollTop+=this.cursorY-r)}}f=!1}.bind(this));this.updateCursorCoordinates=function(t){f=f||t,u()};var h;this.restoreSelection=function(){var t=Math.min(this.selectionStart,this.selectionEnd),o=Math.max(this.selectionStart,this.selectionEnd),r=this.createRange(t,o),s=e.getSelection(n.$window),a=this.selectionStart>this.selectionEnd;return s.setSingleRange(r,a),i(r),r};var g=r(function(){l=c.selectionStart,d=c.selectionEnd},50);this.setSelectionStartEnd=function(t,e){return o(t,e),this.restoreSelection()},this.saveSelectionState=function(){function t(){var t=c.selectionStart,r=c.selectionEnd,a=e.getSelection(n.$window);if(a.rangeCount>0){var l=a.getRangeAt(0),d=l.startContainer;if(s.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY||s===d){var f=l.startOffset;d.firstChild&&f>0&&(d=d.childNodes[f-1],f=d.textContent.length);for(var u=d;d!=s;){for(;d=d.previousSibling;)d.textContent&&(f+=d.textContent.length);d=u=u.parentNode}a.isBackwards()?(t=f+(l+"").length,r=f):(t=f,r=f+(l+"").length),t===r&&t===n.getContent().length?(t=--r,c.setSelectionStartEnd(t,r)):(o(t,r),i(l)),n.undoMgr.saveSelectionState()}}}var a=!1,f=r(function(){t(),c.updateCursorCoordinates(a),u()}),u=r(function(){t(),l===c.selectionStart&&d===c.selectionEnd&&(a=!1),c.updateCursorCoordinates(a),a=!1},10);return function(e,n,i){return i&&(l=void 0,d=void 0),e?(a=a||n,f()):void t()}}(),this.getSelectedText=function(){var t=Math.min(this.selectionStart,this.selectionEnd),e=Math.max(this.selectionStart,this.selectionEnd);return n.getContent().substring(t,e)},this.getCoordinates=function(t,e,i){if(!e){var o=this.findOffsets([t])[0];e=o.container,i=o.offsetInContainer}var r=e;r.hasChildNodes()||(r=e.parentNode);for(var a=!1,c=n.$allElements.indexOf(r);0===r.offsetHeight&&c>0;)a=!0,r=n.$allElements[--c];var l=0,d=0;if(a||"\n"==e.textContent)d=r.offsetTop+r.offsetHeight/2;else{var f=n.getContent()[t],u={container:e,offsetInContainer:i,offset:t},h={container:e,offsetInContainer:i,offset:t};t>0&&(void 0===f||"\n"==f)?0===u.offsetInContainer?u=t-1:u.offsetInContainer-=1:h.offset===e.textContent.length?h=t+1:h.offsetInContainer+=1;var g=this.createRange(u,h),p=g.getBoundingClientRect();d=p.top+p.height/2-s.getBoundingClientRect().top+s.scrollTop}return{x:l,y:d}},this.getClosestWordOffset=function(t){var e=0,i=0,o=0;return n.getContent().split(/\s/).some(function(n){return n&&(e=o,i=o+n.length,i>t)?!0:void(o+=n.length+1)}),{start:e,end:i}}}t.SelectionMgr=n}(window.cledit,window.rangy),function(t){function e(e,n){function i(){this.selectionStartBefore=d,this.selectionEndBefore=f,this.selectionStartAfter=c.selectionStart,this.selectionEndAfter=c.selectionEnd}function o(t){return function(){t.push(this),this.patches=p,p=[]}}function r(){var t,e,i;this.isBufferState=function(){return t=Date.now(),"single"!=this.currentMode&&this.currentMode==i&&t-e<n.bufferStateUntilIdle},this.setDefaultMode=function(t){this.currentMode=this.currentMode||t},this.resetMode=function(){S.currentMode=void 0,i=void 0},this.saveMode=function(){i=this.currentMode,this.currentMode=void 0,e=t}}function s(){Array.prototype.push.apply(p,v),v=[]}function a(t,n,i,o){var r=e.getContent();t=o?t:t.map(function(t){return{insert:!t.insert,offset:t.offset,text:t.text}}).reverse(),t.forEach(function(t){r=t.insert?r.slice(0,t.offset)+t.text+r.slice(t.offset):r.slice(0,t.offset)+r.slice(t.offset+t.text.length)}),e.setContent(r,!0),e.$markers.forEach(function(e){t.forEach(e.adjustOffset,e)}),c.setSelectionStartEnd(n,i),c.updateCursorCoordinates(!0),d=n,f=i,S.resetMode(),u.$trigger("undoStateChange"),e.adjustCursorPosition()}t.Utils.createEventHooks(this),n=t.Utils.extend({undoStackMaxSize:200,bufferStateUntilIdle:1e3},n||{});var c,l,d,f,u=this,h=[],g=[],p=[],v=[],m=t.Utils.debounce;i.prototype.addToUndoStack=o(h),i.prototype.addToRedoStack=o(g);var S=new r;this.setCurrentMode=function(t){S.currentMode=t},this.setDefaultMode=S.setDefaultMode.bind(S),this.addPatches=function(t){Array.prototype.push.apply(v,t)},this.saveState=m(function(){if(g.length=0,S.isBufferState())d=l.selectionStartBefore,f=l.selectionEndBefore;else for(l.addToUndoStack();h.length>n.undoStackMaxSize;)h.shift();s(),l=new i,S.saveMode(),u.$trigger("undoStateChange")}),this.saveSelectionState=m(function(){void 0===S.currentMode&&(d=c.selectionStart,f=c.selectionEnd)},50),this.canUndo=function(){return!!h.length},this.canRedo=function(){return!!g.length},this.undo=function(){var t=h.pop();t&&(s(),l.addToRedoStack(),a(l.patches,l.selectionStartBefore,l.selectionEndBefore),p=t.patches,l=t)},this.redo=function(){var t=g.pop();t&&(l.addToUndoStack(),a(t.patches,t.selectionStartAfter,t.selectionEndAfter,!0),p=t.patches,l=t)},this.init=function(){c=e.selectionMgr,l||(d=c.selectionStart,f=c.selectionEnd,l=new i)}}t.UndoMgr=e}(window.cledit),function(t){var e={isGecko:"MozAppearance"in document.documentElement.style,isWebkit:"WebkitAppearance"in document.documentElement.style,isMsie:"msTransform"in document.documentElement.style};e.defer=function(){var t=[],e="deferMsg";return window.addEventListener("message",function(n){n.source==window&&n.data==e&&(n.stopPropagation(),t.length>0&&t.shift()())},!0),function(n){t.push(n),window.postMessage(e,"*")}}(),e.debounce=function(t,n){var i,o=!1;return n?function(){clearTimeout(i),i=setTimeout(t,n)}:function(){o!==!0&&(o=!0,e.defer(function(){o=!1,t()}))}},e.createEventHooks=function(t){var e={};t.$trigger=function(n){var i=e[n];if(i){var o=Array.prototype.slice.call(arguments,1);i.forEach(function(e){try{e.apply(t,o)}catch(n){}})}},t.on=function(t,n){var i=e[t];i||(i=[],e[t]=i),i.push(n)},t.off=function(t,n){var i=e[t];if(i){var o=i.indexOf(n);o>-1&&i.splice(o,1)}}},e.extend=function(t,e){return Object.keys(e).map(function(n){t[n]=e[n]}),t},e.escape=function(){var t={"&":"&amp;","<":"&lt;"," ":" "};return function(e){return e.replace(/[&<\u00a0]/g,function(e){return t[e]})}}(),t.Utils=e}(window.cledit),function(t){function e(t,e){this.isWatching=!1;var n;this.startWatching=function(){this.isWatching=!0,n=n||new MutationObserver(e),n.observe(t.$contentElt,{childList:!0,subtree:!0,characterData:!0})},this.stopWatching=function(){n.disconnect(),this.isWatching=!1},this.noWatch=function(t){return this.isWatching===!0?(this.stopWatching(),t(),this.startWatching()):void t()}}t.Watcher=e}(window.cledit);